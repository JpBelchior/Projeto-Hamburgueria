// PRODUTO

model Produto {
  id                   Int                  @id @default(autoincrement())
  nome                 String
  descricao            String?              @db.Text
  categoria            CategoriaProduct
  precoVenda           Float
  desconto             Float                @default(0) 
  tempoPreparoEstimado Int?
  ativo                Boolean              @default(true)
  disponivel           Boolean              @default(true)
  imagem               String?
  createdAt            DateTime             @default(now())
  updatedAt            DateTime             @updatedAt

  ingredientes         ProdutoIngrediente[]
  combos               ComboProduto[]
  pedidoItens          PedidoItem[]

  @@map("produtos")
}

// PRODUTO ↔ INGREDIENTE — tabela de junção com quantidade usada

model ProdutoIngrediente {
  produtoId       Int
  ingredienteId   Int
  quantidadeUsada Float

  produto         Produto     @relation(fields: [produtoId], references: [id], onDelete: Cascade)
  ingrediente     Ingrediente @relation(fields: [ingredienteId], references: [id])

  @@id([produtoId, ingredienteId])
  @@map("produto_ingredientes")
}
